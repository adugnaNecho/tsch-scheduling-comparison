#ifndef NODE_ID_MAPPING_H_
#define NODE_ID_MAPPING_H_

/* For the IoT lab testbed in Grenoble */
static inline uint8_t
get_schedule_id(uint16_t node_id)
{
  int i;
  static const uint16_t table[] = {
    0,

    /* sparse subset: */
    0x3061, // x=0.4 y=1.85
    0x9168, // x=5.75 y=0.94
    0xa081, // x=0.4 y=7.23
    0xa376, // x=11.15 y=0.94
    0x8579, // x=0.4 y=12.63
    0xa183, // x=16.55 y=0.94
    0xc276, // x=0.4 y=18.03
    0x9981, // x=18.35 y=6.03
    0xb876, // x=18.35 y=11.43
    0x8669, // x=22.45 y=0.94
    0xb576, // x=0.4 y=23.43
    0xa580, // x=18.35 y=17.43
    0x1662, // x=4.42 y=26.76
    0xa675, // x=28.22 y=0.94
    0x8767, // x=9.82 y=26.76
    0xc176, // x=18.35 y=22.83
    0x8771, // x=15.22 y=26.76
    0xc169, // x=33.56 y=0.94
    0x9176, // x=21.9 y=26.76
    0x9971, // x=26.95 y=26.76
    0xa577, // x=38.96 y=0.94
    0xb077, // x=32.35 y=26.76
    0x9282, // x=44.36 y=0.94
    0xb883, // x=37.75 y=24.92
    0xb279, // x=49.76 y=0.94
    0xb980, // x=44.95 y=26.76
    0xb669, // x=55.16 y=0.94
    0x9472, // x=50.95 y=26.76
    0xb479, // x=60.56 y=0.94
    0xa579, // x=56.35 y=26.76
    0x9682, // x=61.75 y=26.76

    /* dense subset: 
    0x3061, // x=0.4 y=1.85
    0xa776, // x=2.75 y=0.94
    0xc076, // x=1.0 y=4.23
    0x9168, // x=5.75 y=0.94
    0x9582, // x=0.4 y=6.63
    0x9480, // x=8.75 y=0.94
    0xa279, // x=1.0 y=9.03
    0x9680, // x=0.4 y=11.43
    0xa670, // x=12.35 y=0.94
    0xb169, // x=1.0 y=13.83
    0xc376, // x=15.35 y=0.94
    0x9783, // x=0.4 y=16.23
    0x8967, // x=18.35 y=0.75
    0xa180, // x=1.0 y=18.63
    0x8472, // x=18.35 y=3.63
    0xb768, // x=18.35 y=6.63
    0x8881, // x=18.35 y=9.63
    0xa671, // x=0.4 y=21.03
    0x9183, // x=21.25 y=0.94
    0x3761, // x=18.95 y=12.03
    0x9382, // x=1.0 y=23.43
    0x9876, // x=18.35 y=15.03
    0xa079, // x=25.22 y=0.94
    0x9483, // x=18.35 y=18.03
    0xb179, // x=0.4 y=25.92
    0x3960, // x=3.22 y=26.76
    0xa475, // x=6.22 y=26.76
    0xa980, // x=18.35 y=21.03
    0xa675, // x=28.22 y=0.94
    0xa575, // x=9.22 y=26.76
    0xa382, // x=12.22 y=26.76
    */

    0xffff
  };

  for(i = 1; table[i] != 0xffff; i++) {
    if(table[i] == node_id) {
      return i;
    }
  }
  return 0;
}

#endif /* NODE_ID_MAPPING */
