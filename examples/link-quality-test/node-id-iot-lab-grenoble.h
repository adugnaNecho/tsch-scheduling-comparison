#ifndef NODE_ID_MAPPING_H_
#define NODE_ID_MAPPING_H_

/* For the IoT lab testbed in Grenoble */
static inline uint8_t
get_schedule_id(uint16_t node_id)
{
  int i;
  static const uint16_t table[] = {
    0,

    /* 3 neighbors per node: */
    /* `export nodes='4+11+20+41+51+60+69+73+82+91+105+123+141+159+177+184+193+202+221+239+259+277+294+301+310+319+328+337+346+355+363'` */
    /* 0x3061, // x=0.4 y=1.85
    0x9168, // x=5.75 y=0.94
    0xa081, // x=0.4 y=7.23
    0xa376, // x=11.15 y=0.94
    0x8579, // x=0.4 y=12.63
    0xa183, // x=16.55 y=0.94
    0xc276, // x=0.4 y=18.03
    0x9981, // x=18.35 y=6.03
    0xb876, // x=18.35 y=11.43
    0x8669, // x=22.45 y=0.94
    0xb576, // x=0.4 y=23.43
    0xa580, // x=18.35 y=17.43
    0x1662, // x=4.42 y=26.76
    0xa675, // x=28.22 y=0.94
    0x8767, // x=9.82 y=26.76
    0xc176, // x=18.35 y=22.83
    0x8771, // x=15.22 y=26.76
    0xc169, // x=33.56 y=0.94
    0x9176, // x=21.9 y=26.76
    0x9971, // x=26.95 y=26.76
    0xa577, // x=38.96 y=0.94
    0xb077, // x=32.35 y=26.76
    0x9282, // x=44.36 y=0.94
    0xb883, // x=37.75 y=24.92
    0xb279, // x=49.76 y=0.94
    0xb980, // x=44.95 y=26.76
    0xb669, // x=55.16 y=0.94
    0x9472, // x=50.95 y=26.76
    0xb479, // x=60.56 y=0.94
    0xa579, // x=56.35 y=26.76
    0x9682, // x=61.75 y=26.76
    */

    /* 4 neighbors per node: */
    /* `export nodes='2+7+13+70+76+82+88+94+105+117+129+141+153+166+177+181+188+195+201+213+225+237+251+263+274+291+297+303+309+316+322'` */
    0x3061, // x=0.4 y=1.85
    0xb583, // x=3.95 y=0.94
    0x9671, // x=1.0 y=5.43
    0x9072, // x=8.15 y=0.94
    0xb081, // x=0.4 y=9.03
    0xa670, // x=12.35 y=0.94
    0x8579, // x=0.4 y=12.63
    0x8476, // x=15.95 y=0.94
    0x9783, // x=0.4 y=16.23
    0x8472, // x=18.35 y=3.63
    0xc068, // x=18.35 y=7.23
    0x2262, // x=0.4 y=19.83
    0x9183, // x=21.25 y=0.94
    0x1562, // x=18.35 y=10.83
    0xb576, // x=0.4 y=23.43
    0x9876, // x=18.35 y=15.03
    0xa079, // x=25.22 y=0.94
    0xa470, // x=18.35 y=19.23
    0x2960, // x=2.62 y=26.76
    0xa475, // x=6.22 y=26.76
    0x8767, // x=9.82 y=26.76
    0xc176, // x=18.35 y=22.83
    0xa370, // x=29.36 y=0.94
    0x9177, // x=13.42 y=26.76
    0x9067, // x=17.02 y=26.76
    0xc368, // x=32.96 y=0.94
    0x9982, // x=20.7 y=26.76
    0x9883, // x=24.55 y=26.76
    0x862, // x=37.16 y=0.94
    0xa569, // x=28.15 y=26.76
    0xb282, // x=40.76 y=0.94

    /* 5.5-6 neigbors per node: */
    /* export nodes='78+83+88+93+97+106+113+122+129+138+145+154+161+170+177+179+184+189+195+200+205+213+223+233+240+251+261+271+292+297+301 */
    /*
    0x3061, // x=0.4 y=1.85
    0xa776, // x=2.75 y=0.94
    0xc076, // x=1.0 y=4.23
    0x9168, // x=5.75 y=0.94
    0x9582, // x=0.4 y=6.63
    0x9480, // x=8.75 y=0.94
    0xa279, // x=1.0 y=9.03
    0x9680, // x=0.4 y=11.43
    0xa670, // x=12.35 y=0.94
    0xb169, // x=1.0 y=13.83
    0xc376, // x=15.35 y=0.94
    0x9783, // x=0.4 y=16.23
    0x8967, // x=18.35 y=0.75
    0xa180, // x=1.0 y=18.63
    0x8472, // x=18.35 y=3.63
    0xb768, // x=18.35 y=6.63
    0x8881, // x=18.35 y=9.63
    0xa671, // x=0.4 y=21.03
    0x9183, // x=21.25 y=0.94
    0x3761, // x=18.95 y=12.03
    0x9382, // x=1.0 y=23.43
    0x9876, // x=18.35 y=15.03
    0xa079, // x=25.22 y=0.94
    0x9483, // x=18.35 y=18.03
    0xb179, // x=0.4 y=25.92
    0x3960, // x=3.22 y=26.76
    0xa475, // x=6.22 y=26.76
    0xa980, // x=18.35 y=21.03
    0xa675, // x=28.22 y=0.94
    0xa575, // x=9.22 y=26.76
    0xa382, // x=12.22 y=26.76
    */

    /* 10-11 neighbors per node: */
    /* export nodes='119+123+127+131+135+139+143+147+151+156+159+163+167+177+179+181+183+185+188+190+193+195+197+199+201+203+205+207+211+215+219' */
    /* 0x3061, // x=0.4 y=1.85
    0xa776, // x=2.75 y=0.94
    0xb583, // x=3.95 y=0.94
    0x1862, // x=0.4 y=4.83
    0x9169, // x=5.15 y=0.94
    0x9276, // x=0.4 y=6.03
    0x9978, // x=6.35 y=0.94
    0xa081, // x=0.4 y=7.23
    0x9072, // x=8.15 y=0.94
    0x1861, // x=1.0 y=8.43
    0xb882, // x=9.35 y=0.94
    0x9576, // x=0.4 y=9.63
    0x9380, // x=0.4 y=10.83
    0xa376, // x=11.15 y=0.94
    0x9779, // x=0.4 y=12.03
    0xa670, // x=12.35 y=0.94
    0xa778, // x=0.4 y=13.23
    0xa972, // x=13.55 y=0.94
    0x1761, // x=0.4 y=14.43
    0x8569, // x=14.75 y=0.94
    0x9369, // x=0.4 y=15.63
    0x8476, // x=15.95 y=0.94
    0x8671, // x=0.4 y=16.83
    0x9584, // x=17.15 y=0.94
    0xc276, // x=0.4 y=18.03
    0x8967, // x=18.35 y=0.75
    0xa379, // x=18.35 y=1.83
    0x8875, // x=18.35 y=3.03
    0x9175, // x=18.35 y=4.23
    0xb481, // x=18.35 y=5.43
    0xa468, // x=0.4 y=19.23
    */

    0xffff
  };

  for(i = 1; table[i] != 0xffff; i++) {
    if(table[i] == node_id) {
      return i;
    }
  }
  return 0;
}

#endif /* NODE_ID_MAPPING */
